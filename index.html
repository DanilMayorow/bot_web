from telegram import ReplyKeyboardMarkup, KeyboardButton

# Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ°Ğ¼Ğ¸
async def show_main_menu(update: Update, context: ContextTypes.DEFAULT_TYPE):
    keyboard = [
        [KeyboardButton("ğŸŒ¤ Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ"), KeyboardButton("ğŸŒ¦ Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ°"), KeyboardButton("ğŸ“… 3 Ğ´Ğ½Ñ")],
        [KeyboardButton("ğŸ‘‹ ĞšĞ°Ğº Ğ´ĞµĞ»Ğ° Ñƒ Ğ”Ğ°Ğ½Ğ¸Ğ»Ğ°?")],
        [KeyboardButton("ğŸ“š Ğ¯Ğ¿Ğ¾Ğ½ÑĞºĞ¸Ğ¹"), KeyboardButton("ğŸ›  Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹")]
    ]
    reply_markup = ReplyKeyboardMarkup(keyboard, resize_keyboard=True)
    await update.message.reply_text("Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸ Ğ¾Ğ´Ğ¸Ğ½ Ğ¸Ğ· Ğ¿ÑƒĞ½ĞºÑ‚Ğ¾Ğ² Ğ¼ĞµĞ½Ñ:", reply_markup=reply_markup)

async def handle_text_buttons(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = update.message.text
    if text == "ğŸŒ¤ Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ":
        forecast = get_weather_forecast(days=1, offset=0)
        await update.message.reply_text(f"ĞŸÑ€Ğ¾Ğ³Ğ½Ğ¾Ğ·:\n{forecast}")
    elif text == "ğŸŒ¦ Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ°":
        forecast = get_weather_forecast(days=1, offset=1)
        await update.message.reply_text(f"ĞŸÑ€Ğ¾Ğ³Ğ½Ğ¾Ğ·:\n{forecast}")
    elif text == "ğŸ“… 3 Ğ´Ğ½Ñ":
        forecast = get_weather_forecast(days=3, offset=0)
        await update.message.reply_text(f"ĞŸÑ€Ğ¾Ğ³Ğ½Ğ¾Ğ·:\n{forecast}")
    elif text == "ğŸ‘‹ ĞšĞ°Ğº Ğ´ĞµĞ»Ğ° Ñƒ Ğ”Ğ°Ğ½Ğ¸Ğ»Ğ°?":
        await hows_danila(update, context)
    elif text == "ğŸ“š Ğ¯Ğ¿Ğ¾Ğ½ÑĞºĞ¸Ğ¹":
        await nihongo_section(update, context)
    elif text == "ğŸ›  Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹":
        await tools_section(update, context)
    else:
        await update.message.reply_text("ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ğ¸Ğ· Ğ¼ĞµĞ½Ñ.")